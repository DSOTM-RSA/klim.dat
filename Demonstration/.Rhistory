png(filename = paste(write.dir,"F",i,".png",sep=""))
print(xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,i),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,1),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,3),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,2),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,12),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
i=unique(dt$station.id)
i
p<-as.numeric(i)
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,p[1]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,p[100]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
p<-order(as.numeric(i))
p<-sort(as.numeric(i))
p
p<-order(as.numeric(i))
p
rank(p)
p<-sort(as.numeric(i))
p<-(as.numeric(i))
dt.order<-select(dt) %>% arrange(date.start)
dt.order<-select(dt) %>% arrange(.,date.start)
dt.order<-select(dt) %>% arrange(.,station.id)
View(dt)
arrange(dt,station.id)
dt.arranged<-arrange(dt,station.id)
View(dt.arranged)
i<-unique(dt.arranged$station.id)
p<-as.numeric(i)
i
p
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,i[1]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,i[5]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,4),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,5),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
str(i)
class(i)
xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,i[5]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",n,".png",sep=""))
print(xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,i[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
i[n]
i[2]
ip[2]
p[2]
p[25]
p[5]
i[5]
str(i[5])
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",n,".png",sep=""))
print(xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,i[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
Days <- seq(from = as.Date("2006-1-1"), to = as.Date("2006-8-8"), by = "day")
z <- zoo(seq(length(Days))^2, Days)
Months <- Days[format(Days, "%d") == "01"]
Weeks <- Days[format(Days, "%w") == "0"]
xyplot(z, scales = list(x = list(at = Months)))
Days <- seq(from = as.Date("2006-1-1"), to = as.Date("2006-8-8"), by = "day")
z <- zoo(seq(length(Days))^2, Days)
library(zoo)
Days <- seq(from = as.Date("2006-1-1"), to = as.Date("2006-8-8"), by = "day")
z <- zoo(seq(length(Days))^2, Days)
Months <- Days[format(Days, "%d") == "01"]
Weeks <- Days[format(Days, "%w") == "0"]
xyplot(z, scales = list(x = list(at = Months)))
trellis.focus("panel", 1, 1, clip.off = TRUE)
panel.axis("bottom", check.overlap = TRUE, outside = TRUE, labels = FALSE,
tck = .7, at = as.numeric(Weeks))
panel.axis("bottom", check.overlap = TRUE, outside = TRUE, labels = FALSE,
tck = .4, at = as.numeric(Days))
trellis.unfocus()
z <-as.ts(dt)
zz<-na.omit(z)
tablesmin[[1]]$stat<-as.character(tablesmin[[1]]$STATIONS_ID)
out$stat <-as.factor(out$STATIONS_ID)
n<-1
i[n]
str(i[n])
str(i[1])
new<-read.table("stat_ids_CDC.csv")
setwd("~/Research/klim.dat/Demonstration")
new<-read.table("stat_ids_CDC.csv")
setwd("~/Research/klim.dat/Demonstration")
new<-read.table("stat_ids_CDC.csv")
new<-read.table("stat_ids_CDC.csv",header=TRUE)
new<-read.table("stat_ids_CDC.csv",header=TRUE,sep=","")
new<-read.table("stat_ids_CDC.csv",header=TRUE,sep=",")
new<-read.table("stat_ids_CDC.csv",header=TRUE, sep =",")
dataTable <- read.table("stat_ids_CDC.csv",header=T)
dataTable <- read.table("names.txt",header=T)
View(dataTable)
read.csv(stat_ids_CDC)
read.csv(stat_ids_CDC.csv)
read.csv("stat_ids_CDC.csv")
read.csv("stat.csv")
new<-read.table("stat.csv",header=TRUE, sep =",")
View(new)
grades <- c(1, 2, 2, 3, 1)
info <- data.frame(
grade = 3:1,
desc = c("Excellent", "Good", "Poor"),
fail = c(F, F, T)
)
View(info)
id <- match(grades, info$grade)
info[id, ]
library(data.table)
dat = as.data.table(dt.arranged)
dat2 = as.data.table(new)
dat2$stat_id = station.id
colnames(dat2$stat_id) <- station.id
colnames(dat2$stat_id) <- "station.id"
dat2$station.id <-dat2$stat_id
View(dat2)
newdt<-merge(dat, dat2, by="station.id", all=TRUE))
newdt<-merge(dat, dat2, by="station.id", all=TRUE)
View(newdt)
View(dt.arranged)
View(newdt)
View(newdt)
str(newdt)
pp <- unique(newdt$locale)
ii <- unique(newdt$locale)
for (n in n:150){
png(filename = paste(write.dir,"F",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
setwd("~/Research/klim.dat/Demonstration/downloads/product/figs")
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
ii[n]
ii[1]
ii[3]
iii<-unique(newdt$station.id)
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,iii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",ii[n]".png",sep=""))
print(xyplot(precip ~ date.start |station.id , data = dt, layout=c(1,1,iii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
i<-unique(newdt$station.id)
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",i[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = dt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
ii <- unique(newdt$locale)
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",i[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,i[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
setwd("~/Research/klim.dat/Demonstration/downloads/product")
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,i[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,i[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
str(newdt$locale)
summary(newdt$locale)
summary(newdt)
summary(newdt$station.id)
summary(newdt$locale)
new<-read.table("stat.csv",header=TRUE, sep =",")
setwd("~/Research/klim.dat/Demonstration")
new<-read.table("stat.csv",header=TRUE, sep =",")
new<-read.table("stat.csv",header=TRUE, sep =",")
new<-read.table("stat.csv",header=TRUE, sep =",")
new<-read.table("stat.csv",header=TRUE, sep =",")
dat = as.data.table(dt.arranged)
dat2 = as.data.table(new)
dat2$station.id <-dat2$stat_id
newdt<-merge(dat, dat2, by="station.id", all=TRUE)
str(newdt)
summary(newdt)
ii <- unique(newdt$locale)
iii
ii
i<-unique(newdt$station.id)
i
dat2$station.id <-dat2$stat_id
View(dat2)
newdt<-merge(dat, dat2, by="station.id")
View(newdt)
str(dat2)
new<-read.table("stat.csv",header=TRUE, sep =",")
new<-read.table("stat.csv",header=TRUE, sep =",")
dat = as.data.table(dt.arranged)
dat2 = as.data.table(new)
dat2$station.id <-dat2$stat_id
View(dat2)
newdt3<-merge(dat, dat2, by="station.id")
str(newdt3)
str(newdt3$locale)
summary(newdt3$locale)
newdt<-merge(dat, dat2, by="station.id")
ii <- unique(newdt$locale)
i<-unique(newdt$station.id)
n<-1
setwd("~/Research/klim.dat/Demonstration/downloads/product")
n<-1
for (n in n:150){
png(filename = paste(write.dir,"F-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
n<-1
for (n in n:150){
png(filename = paste(write.dir,"Fig-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
new<-read.table("stat.csv",header=TRUE, sep =",")
setwd("~/Research/klim.dat/Demonstration")
new<-read.table("stat.csv",header=TRUE, sep =",")
dat = as.data.table(dt.arranged)
dat2 = as.data.table(new)
dat2$station.id <-dat2$stat_id
newdt<-merge(dat, dat2, by="station.id")
ii <- unique(newdt$locale)
i<-unique(newdt$station.id)
n<-1
setwd("~/Research/klim.dat/Demonstration/downloads/product/figs")
for (n in n:150){
png(filename = paste(write.dir,"Fig-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
setwd("~/Research/klim.dat/Demonstration/downloads/product")
n<-1
for (n in n:150){
png(filename = paste(write.dir,"Fig-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
setwd("~/Research/klim.dat/Demonstration")
write.dir <- "/downloads/product/figs/"
write.dir <- "/downloads/product/figs/"
ii <- unique(newdt$locale)
i<-unique(newdt$station.id)
n<-1
for (n in n:150){
png(filename = paste(write.dir,"Fig-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
write.dir <- "downloads/product/figs/"
n<-1
for (n in n:150){
png(filename = paste(write.dir,"Fig-",ii[n],".png",sep=""))
print(xyplot(precip ~ date.start |locale , data = newdt, layout=c(1,1,ii[n]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
dev.off()
}
View(newdt)
xyplot(precip ~ date.start |station.id , data = dt, layout=c(i[5]),as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(precip ~ date.start |station.id , data = dt,as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
p=3
xyplot(precip ~ date.start |station.id[p] , data = dt,as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}) # regular labels, order is by default 'increasing'
xyplot(ts(c(1:10,10:1)))
xyplot(sunspot.year, aspect = "xy",
strip = FALSE, strip.left = TRUE,
cut = list(number = 4, overlap = 0.05))
xyplot(precip ~ date.start |locale[ii] , data = newdt,as.table=FALSE,
xyplot(precip ~ date.start |locale[ii] , data = newdt,as.table=FALSE,
xyplot(precip ~ date.start |locale[ii] , data = newdt,as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
xyplot(precip ~ date.start |locale[ii] , data = newdt,as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
}))
xyplot(precip ~ date.start |locale[ii] , data = newdt,as.table=FALSE,
strip=TRUE, pch = 16, type=c("l"),col.line="blue",horizontal=FALSE, aspect="free",
ylab = "Precipation (mm)", xlab = "Years",
panel = function (x,y, ...){
panel.xyplot(x,y, ...)
})
plot(date.start~precip,data=newdt[,1:100])
plot(date.start~precip,data=newdt[1:100])
plot(date.start~precip,data=newdt[1:100],type="l"")
plot(date.start~precip,data=newdt[1:100],type="l")
plot(date.start~precip,data=newdt)
